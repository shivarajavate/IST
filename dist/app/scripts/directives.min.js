var ist;(ist=angular.module("ist")).directive("accordion",function(){return{restrict:"A",link:function(e,t,n){var i=t.find("button").eq(0),r=i.siblings("textarea").eq(0);r.css({display:"none"}),i.on("click",function(){i.toggleClass("active"),r.slideToggle("slow")})}}}),(ist=angular.module("ist")).directive("arrowKeyScroll",function(){return{restrict:"A",link:function(e,t,n){var i=parseInt(n.arrowKeyScroll),r=t.find("ul").eq(0);r.on("keydown","li",function(e){var t=$(this).prev(),n=$(this).next();switch(e.keyCode){case 40:n.index()<0||n.trigger("click");break;case 38:t.index()<0||t.trigger("click")}return!1}),r.on("click","li",function(e){var t=r.find("li"),n=$(this);t.removeClass("active"),n.focus().addClass("active")}),angular.element(r).ready(function(){if(i>0){var e=i-1;r.find("li").eq(e).trigger("click")}})}}}),(ist=angular.module("ist")).directive("autoCrud",function(){return{restrict:"A",link:function(e,t,n){t.on("keydown",function(i){if(!i.shiftKey&&!i.ctrlKey&&!i.altKey){var r=t.parents(n.parentSelector).next().find("textarea").eq(0),a=t.parents(n.parentSelector).prev().find("textarea").eq(0);switch(i.keyCode||i.which){case 13:i.preventDefault(),e.$apply(n.onCreate),(r=t.parents(n.parentSelector).next().find("textarea").eq(0)).focus();break;case 8:t.val()||(i.preventDefault(),e.$apply(n.onDelete),a.focus());break;case 46:i.preventDefault(),e.$apply(n.onDelete),a.focus();break;case 40:i.preventDefault(),r.focus();break;case 38:i.preventDefault(),a.focus()}}}),0===e.$index&&angular.element(t).ready(function(){t.focus()})}}}),(ist=angular.module("ist")).directive("autosize",function(){return{restrict:"A",link:function(e,t,n){autosize(t),e.$watch(n.ngModel,function(){autosize.update(t)})}}}),(ist=angular.module("ist")).directive("suggest",function(){return{restrict:"A",scope:{suggestions:"=",selectedSuggestion:"=",onSelect:"&"},link:function(e,t,n){t.suggest("@",{data:e.suggestions,map:function(e){return{value:e,text:"<strong>"+e+"</strong>"}},onselect:function(t,i){n.onSelect&&(e.selectedSuggestion=i.value,e.$apply(e.onSelect))}})}}});