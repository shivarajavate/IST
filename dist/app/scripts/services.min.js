var ist;(ist=angular.module("ist")).service("AppService",["$http",function(e){var t=null;return{stringToJson:function(e,t){var n=[];return e[1].split(/][\s;]/).forEach(e=>{if(""!=e){var r={name:"",value:{positive:[],negative:[]}};r.name=e.substring(0,e.indexOf(t.openSquareBracket));var o,a=(e=e.replace(r.name,t.space).replace(t.openSquareBracket,t.space).replace(t.closeSquareBracket,t.space).trim()).indexOf(t.openRoundBracket),s=e.indexOf(t.closeRoundBracket);""!=(o=e.substring(a+1,s))&&(r.value.positive=o.split(t.comma)),a=(e=e.replace(t.openRoundBracket+o+t.closeRoundBracket,t.space)).indexOf(t.openRoundBracket),s=e.indexOf(t.closeRoundBracket),""!=(o=e.substring(a+1,s))&&(r.value.negative=o.split(t.comma)),e=e.replace(t.openRoundBracket+o+t.closeRoundBracket,t.space),n.push(r)}}),n},loginUser:function(t,n){var r={method:"POST",url:appConst.request.publicRepositoryServer.url,params:{username:t,password:n}};return e(r)},loadResources:function(){var n={method:"GET",url:appConst.request.resource.url};return e(n).then(function(e){t=e.data[0].value})},getResourceText:function(e){return t[appConst.lang][e].text}}}]),(ist=angular.module("ist")).service("HeaderService",["$timeout","$interval",function(e,t){var n={sessionTime:"0:00"};return{timer:n,startTimer:function(){var n=document.getElementById("sessionTimer");function r(){n.classList.add("fa-hourglass-start"),n.classList.remove("fa-hourglass-half","fa-hourglass-end"),e(function(){n.classList.remove("fa-hourglass-start","fa-hourglass-end"),n.classList.add("fa-hourglass-half")},1e3),e(function(){n.classList.remove("fa-hourglass-start","fa-hourglass-half"),n.classList.add("fa-hourglass-end")},2e3)}n.classList.remove("disabled"),r(),t(r,3e3)},startCountDown:function(t){!function t(r){var o=60,a=r;!function r(){var s=a-1;--o>0?(n.sessionTime=s+":"+o,e(r,1e3)):a>1&&e(function(){t(a-1)},1e3)}()}(t)},wireUpEventHandlers:function(){$(function(){$("#hamburgerMenu").on("hidden.bs.modal",function(){$('#hamburger>input[type="checkbox"]').prop("checked",!1).change()}),$(".jottings-dropup-header").click(function(){$(".jottings-dropup .footer-menu").slideDown("slow",function(){$(".jottings-dropup .footer-menu").find("textarea").each(function(){var e=document.createEvent("Event");e.initEvent("autosize:update",!0,!1),this.dispatchEvent(e)})})}),$(".jottings-dropdown-header").click(function(){$(".jottings-dropup .footer-menu").slideUp("slow")}),$(".notes-dropup-header").click(function(){$(".notes-dropup .footer-menu").slideDown("slow",function(){$(".jottings-dropup .footer-menu").find("textarea").each(function(){var e=document.createEvent("Event");e.initEvent("autosize:update",!0,!1),this.dispatchEvent(e)})})}),$(".notes-dropdown-header").click(function(){$(".notes-dropup .footer-menu").slideUp("slow")}),$(".questions-dropup-header").click(function(){$(".questions-dropup .footer-menu").slideDown("slow",function(){$(".jottings-dropup .footer-menu").find("textarea").each(function(){var e=document.createEvent("Event");e.initEvent("autosize:update",!0,!1),this.dispatchEvent(e)})})}),$(".questions-dropdown-header").click(function(){$(".questions-dropup .footer-menu").slideUp("slow")})})}}}]),(ist=angular.module("ist")).service("ProjectService",["$http",function(e){return{loadProjects:function(){var t={method:"GET",url:appConst.request.project.url,headers:{"Content-Type":"application/json"}};return e(t).then(function(e){return e.data})},loadTemplates:function(){var t={method:"GET",url:appConst.request.template.url,headers:{"Content-Type":"application/json"}};return e(t).then(function(e){return e.data})},loadProject:function(t){var n={model:t,views:{workspace:{RECON:"reconWorkspaceCanvas",SEARCH:"searchWorkspaceCanvas"},mindMap:{RECON:"",SEARCH:""}},template:null,uiSettings:null},r={method:"GET",url:appConst.request.template.url,params:{name:n.model.templateName},headers:{"Content-Type":"application/json"}};return e(r).then(function(t){var r=t.data,o={method:"GET",url:appConst.request.uisetting.url,params:{name:n.model.uisettingName},headers:{"Content-Type":"application/json"}};return e(o).then(function(e){var t=e.data;return n.template=r,n.uiSettings=t,n})})},addProject:function(t){delete t._id;var n={method:"POST",url:appConst.request.project.url,headers:{"Content-Type":"application/json"},data:t};return e(n).then(function(e){console.log("new project added successfully")})},updateProject:function(t){var n={method:"PUT",url:appConst.request.project.url,params:{_id:t._id},headers:{"Content-Type":"application/json"},data:t};return e(n).then(function(e){console.log("project updated successfully")})},saveProject:function(t){var n={method:"PUT",url:appConst.request.project.url,params:{_id:t._id},headers:{"Content-Type":"application/json"},data:t};return e(n)},deleteProject:function(t){var n={method:"DELETE",url:appConst.request.project.url,params:{_id:t._id},headers:{"Content-Type":"application/json"}};return e(n).then(function(e){console.log("project deleted successfully")})}}}]),(ist=angular.module("ist")).service("WidgetService",["$http",function(e){function t(e){var t=null;try{e.content.rendered=e.content.rendered.replace(/&quot;/g,'"'),e.content.rendered=e.content.rendered.replace(/&#8220;/g,'"'),e.content.rendered=e.content.rendered.replace(/&#8221;/g,'"'),e.content.rendered=e.content.rendered.replace(/&#8216;/g,"'"),e.content.rendered=e.content.rendered.replace(/&#8217;/g,"'"),e.content.rendered=e.content.rendered.replace(/<br \/>/g,""),e.content.rendered=e.content.rendered.replace(/<\/p>/g,""),e.content.rendered=e.content.rendered.replace(/<p>/g,"");JSON.parse(e.content.rendered.split("@@##")[0]);var n=JSON.parse(e.content.rendered.split("@@##")[1]),r=JSON.parse(e.content.rendered.split("@@##")[2]);t={id:e.id,info:{type:n.type,version:n.widget_version,parent_widgets:n.parent_widgets,created_by:n.created_by,created_at:n.created_at,last_modified_at:n.last_modified_at,related_widgets:n.related_widgets,domain:n.domain,technology:n.technology,language:n.language},data:{name:r.name,description:r.description,category:r.category,conditions:r.conditions,criteria:r.criteria,issues:r.issues,heuristics:r.heuristics,actions:r.heuristics,data:r.data,links:r.links,repo:r.repo,status:r.status,comments:r.comments}}}catch(t){console.log("Error while parsing the widget: "+e.id)}return t}return{getPublicWidgetById:function(n,r){var o={method:"GET",url:appConst.request.publicWidgetRepository.url+n,params:{offset:appConst.request.publicWidgetRepository.params.offset,per_page:appConst.request.publicWidgetRepository.params.per_page},headers:{Authorization:"Bearer "+r}};return e(o).then(function(e){return t(e.data)})},getPublicWidgets:function(n){var r={method:"GET",url:appConst.request.publicWidgetRepository.url,params:{offset:appConst.request.publicWidgetRepository.params.offset,per_page:appConst.request.publicWidgetRepository.params.per_page},headers:{Authorization:"Bearer "+n}};return e(r).then(function(e){var n=[];return e.data.forEach(function(e){var r=t(e);r&&n.push(r)}),n},function(e){console.log("Error while fetching widgets: "+e.status)})}}}]);